{"version":3,"file":"format-Bcew2BgU.js","sources":["../../src/shared/chains.ts","../../src/utils/format.ts"],"sourcesContent":["export type ChainInfo = {\n  chainId: number\n  name: string\n  nativeSymbol: string\n  rpcUrls: string[]\n  blockExplorerUrl?: string\n  isTestnet?: boolean\n}\n\n/**\n * NETWORK MODE\n * - Default: testnet (safer for dev)\n * - Set to \"mainnet\" when ready\n *\n * Works with:\n * - Vite:   VITE_NETWORK_MODE=mainnet\n * - Node:   NETWORK_MODE=mainnet\n */\nexport type NetworkMode = \"testnet\" | \"mainnet\"\n\nfunction readEnv(key: string): string | undefined {\n  // Vite / modern bundlers\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const viteVal = (typeof import.meta !== \"undefined\" && (import.meta as any)?.env?.[key]) as\n    | string\n    | undefined\n  if (viteVal) return viteVal\n\n  // Node fallback (some tooling still injects this)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const nodeVal = (typeof process !== \"undefined\" && (process as any)?.env?.[key]) as\n    | string\n    | undefined\n  return nodeVal\n}\n\nexport const NETWORK_MODE: NetworkMode =\n  (readEnv(\"VITE_NETWORK_MODE\") as NetworkMode) ||\n  (readEnv(\"NETWORK_MODE\") as NetworkMode) ||\n  \"testnet\"\n\n/**\n * MAINNET CHAINS (EVM)\n */\nexport const MAINNET_CHAINS: Record<number, ChainInfo> = {\n  // Ethereum Mainnet\n  1: {\n    chainId: 1,\n    name: \"Ethereum\",\n    nativeSymbol: \"ETH\",\n    rpcUrls: [\n      // Public RPCs can rate limit; swap with Alchemy/Infura/QuickNode for reliability.\n      \"https://cloudflare-eth.com\"\n    ],\n    blockExplorerUrl: \"https://etherscan.io\",\n    isTestnet: false\n  },\n\n  // Base Mainnet\n  8453: {\n    chainId: 8453,\n    name: \"Base\",\n    nativeSymbol: \"ETH\",\n    rpcUrls: [\"https://mainnet.base.org\"],\n    blockExplorerUrl: \"https://basescan.org\",\n    isTestnet: false\n  },\n\n  // Arbitrum One\n  42161: {\n    chainId: 42161,\n    name: \"Arbitrum One\",\n    nativeSymbol: \"ETH\",\n    rpcUrls: [\"https://arb1.arbitrum.io/rpc\"],\n    blockExplorerUrl: \"https://arbiscan.io\",\n    isTestnet: false\n  },\n\n  // Polygon\n  137: {\n    chainId: 137,\n    name: \"Polygon\",\n    nativeSymbol: \"MATIC\",\n    rpcUrls: [\"https://polygon-rpc.com\"],\n    blockExplorerUrl: \"https://polygonscan.com\",\n    isTestnet: false\n  },\n\n  // Avalanche C-Chain\n  43114: {\n    chainId: 43114,\n    name: \"Avalanche C-Chain\",\n    nativeSymbol: \"AVAX\",\n    rpcUrls: [\"https://api.avax.network/ext/bc/C/rpc\"],\n    blockExplorerUrl: \"https://snowtrace.io\",\n    isTestnet: false\n  }\n}\n\n/**\n * TESTNET CHAINS (EVM)\n */\nexport const TESTNET_CHAINS: Record<number, ChainInfo> = {\n  // Ethereum Sepolia\n  11155111: {\n    chainId: 11155111,\n    name: \"Ethereum Sepolia\",\n    nativeSymbol: \"ETH\",\n    rpcUrls: [\"https://rpc.sepolia.org\"],\n    blockExplorerUrl: \"https://sepolia.etherscan.io\",\n    isTestnet: true\n  },\n\n  // Base Sepolia\n  84532: {\n    chainId: 84532,\n    name: \"Base Sepolia\",\n    nativeSymbol: \"ETH\",\n    rpcUrls: [\"https://sepolia.base.org\"],\n    blockExplorerUrl: \"https://sepolia.basescan.org\",\n    isTestnet: true\n  },\n\n  // Arbitrum Sepolia\n  421614: {\n    chainId: 421614,\n    name: \"Arbitrum Sepolia\",\n    nativeSymbol: \"ETH\",\n    rpcUrls: [\"https://sepolia-rollup.arbitrum.io/rpc\"],\n    blockExplorerUrl: \"https://sepolia.arbiscan.io\",\n    isTestnet: true\n  },\n\n  // Polygon Amoy (Mumbai is deprecated)\n  80002: {\n    chainId: 80002,\n    name: \"Polygon Amoy\",\n    nativeSymbol: \"POL\",\n    rpcUrls: [\"https://rpc-amoy.polygon.technology\"],\n    blockExplorerUrl: \"https://amoy.polygonscan.com\",\n    isTestnet: true\n  },\n\n  // Avalanche Fuji C-Chain\n  43113: {\n    chainId: 43113,\n    name: \"Avalanche Fuji C-Chain\",\n    nativeSymbol: \"AVAX\",\n    rpcUrls: [\"https://api.avax-test.network/ext/bc/C/rpc\"],\n    blockExplorerUrl: \"https://testnet.snowtrace.io\",\n    isTestnet: true\n  }\n}\n\n/**\n * The active chains for the wallet right now.\n */\nexport const CHAINS: Record<number, ChainInfo> =\n  NETWORK_MODE === \"mainnet\" ? MAINNET_CHAINS : TESTNET_CHAINS\n\n/**\n * Default chain depends on mode.\n * (Pick something with good faucet support and stable RPCs.)\n */\nexport const DEFAULT_CHAIN_ID =\n  NETWORK_MODE === \"mainnet\" ? 43114 : 11155111\n\n/**\n * Deterministic dropdown order\n */\nexport const CHAIN_ORDER: number[] =\n  NETWORK_MODE === \"mainnet\"\n    ? [1, 8453, 42161, 137, 43114]\n    : [11155111, 84532, 421614, 80002, 43113]\n\nexport function isSupportedChain(chainId: number) {\n  return Boolean(CHAINS[chainId])\n}\n\nexport function toHexChainId(chainId: number) {\n  if (!Number.isSafeInteger(chainId) || chainId <= 0) {\n    throw new Error(`Invalid chainId: ${chainId}`)\n  }\n  return \"0x\" + chainId.toString(16)\n}\n\nexport function getChain(chainId: number): ChainInfo | undefined {\n  return CHAINS[chainId]\n}\n\nexport function explorerTxUrl(chainId: number, txHash: string) {\n  const c = CHAINS[chainId]\n  if (!c?.blockExplorerUrl) return undefined\n  return `${c.blockExplorerUrl}/tx/${txHash}`\n}\n\nexport function explorerAddressUrl(chainId: number, address: string) {\n  const c = CHAINS[chainId]\n  if (!c?.blockExplorerUrl) return undefined\n  return `${c.blockExplorerUrl}/address/${address}`\n}\n\n/**\n * Non-EVM placeholder list (for UI only, not connected yet)\n */\nexport const NON_EVM_CHAINS = [\n  { key: \"bitcoin\", name: \"Bitcoin\", enabled: false }\n] as const\n\n","import { ethers } from \"ethers\"\n\nexport function shortAddr(addr: string) {\n  if (!addr) return \"\"\n  return addr.slice(0, 6) + \"â€¦\" + addr.slice(-4)\n}\n\nexport function safeJsonParse<T>(s: string): T | null {\n  try { return JSON.parse(s) as T } catch { return null }\n}\n\nexport function hexToBigInt(v?: string) {\n  if (!v) return undefined\n  if (typeof v !== \"string\") return undefined\n  return BigInt(v)\n}\n\nexport function toBigIntFromHexOrNumber(v: any): bigint | undefined {\n  if (v == null) return undefined\n  if (typeof v === \"bigint\") return v\n  if (typeof v === \"number\") return BigInt(v)\n  if (typeof v === \"string\") {\n    if (v.startsWith(\"0x\") || v.startsWith(\"0X\")) return BigInt(v)\n    // decimal\n    if (/^\\d+$/.test(v)) return BigInt(v)\n  }\n  return undefined\n}\n\nexport function normalizeHex(hex: string) {\n  return hex.startsWith(\"0x\") ? hex : (\"0x\" + hex)\n}\n\nexport function utf8ToHex(str: string) {\n  return ethers.hexlify(ethers.toUtf8Bytes(str))\n}\n"],"names":["readEnv","key","_a","_b","_c","viteVal","NETWORK_MODE","MAINNET_CHAINS","TESTNET_CHAINS","CHAINS","DEFAULT_CHAIN_ID","CHAIN_ORDER","isSupportedChain","chainId","toHexChainId","explorerTxUrl","txHash","c","NON_EVM_CHAINS","shortAddr","addr","toBigIntFromHexOrNumber","v"],"mappings":"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"}